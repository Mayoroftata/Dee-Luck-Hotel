{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///home/mayoroftata/Desktop/Projects/Dee%20Luck%20Hotel/client/src/app/login/schema/page.js"],"sourcesContent":["import * as yup from \"yup\"\n\nexport const loginSchema = yup.object().shape({\n    email: yup.string().email(\"Please enter a valid email\").required(\"Required\"),\n    password: yup.string().required(\"Required\")\n})"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,cAAc,mIAAA,CAAA,SAAU,GAAG,KAAK,CAAC;IAC1C,OAAO,mIAAA,CAAA,SAAU,GAAG,KAAK,CAAC,8BAA8B,QAAQ,CAAC;IACjE,UAAU,mIAAA,CAAA,SAAU,GAAG,QAAQ,CAAC;AACpC","debugId":null}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///home/mayoroftata/Desktop/Projects/Dee%20Luck%20Hotel/client/src/app/login/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { useFormik } from \"formik\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { loginSchema } from \"./schema/page\";\nimport { PulseLoader } from \"react-spinners\";\n// import { signIn } from \"next-auth/react\";\nimport axios from \"axios\";\n\nconst Page = () => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Success Toast\n  const showSuccessToast = (message) => {\n    toast.success(message);\n  };\n\n  // Error Toast\n  const showErrorToast = (message) => {\n    toast.error(message);\n  };\n\n  const onSubmit = (values, { resetForm }) => {\n    console.log(\"Form submitted\", values);\n    setIsLoading(true);\n\n    axios\n      .post(\"http://localhost:5000/api/login\", values)\n      .then((res) => {\n        console.log(res.data);\n\n        if (res.status === 200) {\n          showSuccessToast(res.data.message);\n          localStorage.setItem(\"token\", res.data.token);\n            localStorage.setItem(\"user\", JSON.stringify(res.data.user));\n          resetForm();\n          setTimeout(() => {\n            window.location.href = \"/Client/ClientDashboard\";\n            setIsLoading(false);\n          }, 2000);\n        } else {\n          setIsLoading(false);\n          showErrorToast(res.data.message || \"User does not exist\");\n        }\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        console.log(err);\n        if (err.response && err.response.data && err.response.data.message) {\n          showErrorToast(err.response.data.message);\n        } else {\n          showErrorToast(\"Something went wrong\");\n        }\n      });\n  };\n\n  const { values, errors, touched, handleChange, handleBlur, handleSubmit } =\n    useFormik({\n      initialValues: {\n        email: \"\",\n        password: \"\",\n      },\n      validationSchema: loginSchema,\n      onSubmit,\n    });\n\n  const googleSign = async () => {\n    try {\n      setIsLoading(true);\n\n      // Trigger Google sign-in\n      const result = await signIn(\"google\", { redirect: false });\n\n      if (result?.error) {\n        setIsLoading(false);\n        showErrorToast(result.error || \"Google sign-in failed\");\n        return;\n      }\n\n      // Redirect to the dashboard after successful sign-in\n      showSuccessToast(\"Google sign-in successful\");\n      setTimeout(() => {\n        window.location.href = \"/Client/ClientDashboard\";\n        localStorage.setItem(\"token\", result.token);\n        setIsLoading(false);\n      }, 2000);\n    } catch (error) {\n      setIsLoading(false);\n      showErrorToast(\"Something went wrong during Google sign-in\");\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"justify-center flex items-center min-h-screen bg-blue-900\">\n        <div className=\"bg-white w-full max-w-lg mx-6 border border-white/20 shadow rounded\">\n          <h1 className=\"font-bold ps-4 text-center text-blue-900 my-5 text-2xl\">\n            Welcome back\n          </h1>\n          <div className=\"px-5 pb-5 space-y-2\">\n            <ToastContainer position=\"top-right\" autoClose={3000} />\n            <form onSubmit={handleSubmit} className=\"space-y-2.5\">\n              <div>\n                <input\n                  name=\"email\"\n                  onBlur={handleBlur}\n                  value={values.email}\n                  onChange={handleChange}\n                  className={`p-2 w-full border border-gray-300 rounded-lg focus:outline-none text-black ${\n                    errors.email && touched.email\n                      ? \"border-red-500\"\n                      : \"focus:border-blue-900\"\n                  }`}\n                  type=\"email\"\n                  placeholder=\"Email\"\n                />\n                {errors.email && touched.email && (\n                  <p className=\"text-red-500 text-sm\">{errors.email}</p>\n                )}\n              </div>\n              <div>\n                <input\n                  name=\"password\"\n                  onBlur={handleBlur}\n                  value={values.password}\n                  onChange={handleChange}\n                  className={`p-2 w-full border border-gray-300 rounded-lg focus:outline-none text-black ${\n                    errors.password && touched.password\n                      ? \"border-red-500\"\n                      : \"focus:border-blue-900\"\n                  }`}\n                  type=\"password\"\n                  placeholder=\"password\"\n                />\n                {errors.password && touched.password && (\n                  <p className=\"text-red-500 text-sm\">{errors.password}</p>\n                )}\n              </div>\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={isLoading}\n                  className=\"font-bold rounded-lg text-white w-full bg-blue-900 py-2 hover:bg-blue-900\"\n                >\n                  {isLoading ? (\n                    <PulseLoader size={13} color=\"#fff\" />\n                  ) : (\n                    \"Sign In\"\n                  )}\n                </button>\n              </div>\n            </form>\n            <div>\n              <p className=\"text-center pt-2 text-gray-500\">\n                Don&apos;t have an account?{\" \"}\n                <Link\n                  href=\"/register\"\n                  className=\"text-blue-900 underline font-semibold\"\n                >\n                  Sign up\n                </Link>\n              </p>\n            </div>\n            <div className=\"flex items-center space-x-2 my-3\">\n              <hr className=\"flex-1 border-gray-300\" />\n              <p className=\"text-center text-blue-900\"> or with </p>\n              <hr className=\"flex-1 border-gray-300\" />\n            </div>\n            <div className=\"\">\n              <button\n                onClick={googleSign}\n                type=\"button\"\n                className=\"bg-blue-900 rounded-lg w-1/3 py-1 flex items-center justify-center\"\n              >\n                <Image\n                  alt=\"google\"\n                  src=\"/images/google.svg\"\n                  width={23}\n                  height={1}\n                />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Page;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AATA;;;;;;;;;;AAWA,MAAM,OAAO;IACX,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,gBAAgB;IAChB,MAAM,mBAAmB,CAAC;QACxB,mJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;IAChB;IAEA,cAAc;IACd,MAAM,iBAAiB,CAAC;QACtB,mJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IACd;IAEA,MAAM,WAAW,CAAC,QAAQ,EAAE,SAAS,EAAE;QACrC,QAAQ,GAAG,CAAC,kBAAkB;QAC9B,aAAa;QAEb,qIAAA,CAAA,UAAK,CACF,IAAI,CAAC,mCAAmC,QACxC,IAAI,CAAC,CAAC;YACL,QAAQ,GAAG,CAAC,IAAI,IAAI;YAEpB,IAAI,IAAI,MAAM,KAAK,KAAK;gBACtB,iBAAiB,IAAI,IAAI,CAAC,OAAO;gBACjC,aAAa,OAAO,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK;gBAC1C,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,IAAI,IAAI,CAAC,IAAI;gBAC3D;gBACA,WAAW;oBACT,OAAO,QAAQ,CAAC,IAAI,GAAG;oBACvB,aAAa;gBACf,GAAG;YACL,OAAO;gBACL,aAAa;gBACb,eAAe,IAAI,IAAI,CAAC,OAAO,IAAI;YACrC;QACF,GACC,KAAK,CAAC,CAAC;YACN,aAAa;YACb,QAAQ,GAAG,CAAC;YACZ,IAAI,IAAI,QAAQ,IAAI,IAAI,QAAQ,CAAC,IAAI,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE;gBAClE,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;YAC1C,OAAO;gBACL,eAAe;YACjB;QACF;IACJ;IAEA,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE,GACvE,CAAA,GAAA,+IAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,OAAO;YACP,UAAU;QACZ;QACA,kBAAkB,qIAAA,CAAA,cAAW;QAC7B;IACF;IAEF,MAAM,aAAa;QACjB,IAAI;YACF,aAAa;YAEb,yBAAyB;YACzB,MAAM,SAAS,MAAM,OAAO,UAAU;gBAAE,UAAU;YAAM;YAExD,IAAI,QAAQ,OAAO;gBACjB,aAAa;gBACb,eAAe,OAAO,KAAK,IAAI;gBAC/B;YACF;YAEA,qDAAqD;YACrD,iBAAiB;YACjB,WAAW;gBACT,OAAO,QAAQ,CAAC,IAAI,GAAG;gBACvB,aAAa,OAAO,CAAC,SAAS,OAAO,KAAK;gBAC1C,aAAa;YACf,GAAG;QACL,EAAE,OAAO,OAAO;YACd,aAAa;YACb,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;kBACC,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyD;;;;;;kCAGvE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mJAAA,CAAA,iBAAc;gCAAC,UAAS;gCAAY,WAAW;;;;;;0CAChD,8OAAC;gCAAK,UAAU;gCAAc,WAAU;;kDACtC,8OAAC;;0DACC,8OAAC;gDACC,MAAK;gDACL,QAAQ;gDACR,OAAO,OAAO,KAAK;gDACnB,UAAU;gDACV,WAAW,CAAC,2EAA2E,EACrF,OAAO,KAAK,IAAI,QAAQ,KAAK,GACzB,mBACA,yBACJ;gDACF,MAAK;gDACL,aAAY;;;;;;4CAEb,OAAO,KAAK,IAAI,QAAQ,KAAK,kBAC5B,8OAAC;gDAAE,WAAU;0DAAwB,OAAO,KAAK;;;;;;;;;;;;kDAGrD,8OAAC;;0DACC,8OAAC;gDACC,MAAK;gDACL,QAAQ;gDACR,OAAO,OAAO,QAAQ;gDACtB,UAAU;gDACV,WAAW,CAAC,2EAA2E,EACrF,OAAO,QAAQ,IAAI,QAAQ,QAAQ,GAC/B,mBACA,yBACJ;gDACF,MAAK;gDACL,aAAY;;;;;;4CAEb,OAAO,QAAQ,IAAI,QAAQ,QAAQ,kBAClC,8OAAC;gDAAE,WAAU;0DAAwB,OAAO,QAAQ;;;;;;;;;;;;kDAGxD,8OAAC;kDACC,cAAA,8OAAC;4CACC,MAAK;4CACL,UAAU;4CACV,WAAU;sDAET,0BACC,8OAAC,iMAAA,CAAA,cAAW;gDAAC,MAAM;gDAAI,OAAM;;;;;2FAE7B;;;;;;;;;;;;;;;;;0CAKR,8OAAC;0CACC,cAAA,8OAAC;oCAAE,WAAU;;wCAAiC;wCAChB;sDAC5B,8OAAC,4JAAA,CAAA,UAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;0CAKL,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;;;;;;kDACd,8OAAC;wCAAE,WAAU;kDAA4B;;;;;;kDACzC,8OAAC;wCAAG,WAAU;;;;;;;;;;;;0CAEhB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,SAAS;oCACT,MAAK;oCACL,WAAU;8CAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCACJ,KAAI;wCACJ,KAAI;wCACJ,OAAO;wCACP,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1B;uCAEe","debugId":null}}]
}