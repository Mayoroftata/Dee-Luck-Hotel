(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2112:(e,t,a)=>{Promise.resolve().then(a.bind(a,3571))},3571:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y,dynamic:()=>v});var n=a(5155),r=a(2115),s=a(5799),o=a(9694),l=a(6874),i=a.n(l),c=a(6766),d=a(7129);let u=d.Ik().shape({email:d.Yj().email("Please enter a valid email").required("Required"),password:d.Yj().required("Required")});var m={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function p(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,a=(e.match(/^[0-9.]*/)||"").toString();t=a.includes(".")?parseFloat(a):parseInt(a,10);var n=(e.match(/[^0-9]*$/)||"").toString();return m[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var h=function(){return(h=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)0>t.indexOf(n[r])&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},b=function(e,t,a){var n="react-spinners-".concat(e,"-").concat(a);if("undefined"==typeof window||!window.document)return n;var r=document.createElement("style");document.head.appendChild(r);var s=r.sheet,o="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(o,0),n}("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");let f=function(e){var t=e.loading,a=e.color,n=void 0===a?"#000000":a,s=e.speedMultiplier,o=void 0===s?1:s,l=e.cssOverride,i=e.size,c=void 0===i?15:i,d=e.margin,u=void 0===d?2:d,m=g(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),f=h({display:"inherit"},void 0===l?{}:l),x=function(e){return{backgroundColor:n,width:p(c),height:p(c),margin:p(u),borderRadius:"100%",display:"inline-block",animation:"".concat(b," ").concat(.75/o,"s ").concat(.12*e/o,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return void 0===t||t?r.createElement("span",h({style:f},m),r.createElement("span",{style:x(1)}),r.createElement("span",{style:x(2)}),r.createElement("span",{style:x(3)})):null};var x=a(3464);let v="force-dynamic",y=()=>{let[e,t]=(0,r.useState)(!1),a=e=>{s.oR.success(e)},l=e=>{s.oR.error(e)},{values:d,errors:m,touched:p,handleChange:h,handleBlur:g,handleSubmit:b}=(0,o.Wx)({initialValues:{email:"",password:""},validationSchema:u,onSubmit:(e,n)=>{let{resetForm:r}=n;console.log("Form submitted",e),t(!0),x.A.post("http://localhost:5000/api/login",e).then(e=>{console.log(e.data),200===e.status?(a(e.data.message),localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),r(),setTimeout(()=>{window.location.href="/Client/ClientDashboard",t(!1)},2e3)):(t(!1),l(e.data.message||"User does not exist"))}).catch(e=>{t(!1),console.log(e),e.response&&e.response.data&&e.response.data.message?l(e.response.data.message):l("Something went wrong")})}}),v=async()=>{try{t(!0);let e=await signIn("google",{redirect:!1});if(null==e?void 0:e.error){t(!1),l(e.error||"Google sign-in failed");return}a("Google sign-in successful"),setTimeout(()=>{window.location.href="/Client/ClientDashboard",localStorage.setItem("token",e.token),t(!1)},2e3)}catch(e){t(!1),l("Something went wrong during Google sign-in")}};return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"justify-center flex items-center min-h-screen bg-blue-900",children:(0,n.jsxs)("div",{className:"bg-white w-full max-w-lg mx-6 border border-white/20 shadow rounded",children:[(0,n.jsx)("h1",{className:"font-bold ps-4 text-center text-blue-900 my-5 text-2xl",children:"Welcome back"}),(0,n.jsxs)("div",{className:"px-5 pb-5 space-y-2",children:[(0,n.jsx)(s.ToastContainer,{position:"top-right",autoClose:3e3}),(0,n.jsxs)("form",{onSubmit:b,className:"space-y-2.5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{name:"email",onBlur:g,value:d.email,onChange:h,className:"p-2 w-full border border-gray-300 rounded-lg focus:outline-none text-black ".concat(m.email&&p.email?"border-red-500":"focus:border-blue-900"),type:"email",placeholder:"Email"}),m.email&&p.email&&(0,n.jsx)("p",{className:"text-red-500 text-sm",children:m.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{name:"password",onBlur:g,value:d.password,onChange:h,className:"p-2 w-full border border-gray-300 rounded-lg focus:outline-none text-black ".concat(m.password&&p.password?"border-red-500":"focus:border-blue-900"),type:"password",placeholder:"password"}),m.password&&p.password&&(0,n.jsx)("p",{className:"text-red-500 text-sm",children:m.password})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",disabled:e,className:"font-bold rounded-lg text-white w-full bg-blue-900 py-2 hover:bg-blue-900",children:e?(0,n.jsx)(f,{size:13,color:"#fff"}):"Sign In"})})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"text-center pt-2 text-gray-500",children:["Don't have an account?"," ",(0,n.jsx)(i(),{href:"/register",className:"text-blue-900 underline font-semibold",children:"Sign up"})]})}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 my-3",children:[(0,n.jsx)("hr",{className:"flex-1 border-gray-300"}),(0,n.jsx)("p",{className:"text-center text-blue-900",children:" or with "}),(0,n.jsx)("hr",{className:"flex-1 border-gray-300"})]}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)("button",{onClick:v,type:"button",className:"bg-blue-900 rounded-lg w-1/3 py-1 flex items-center justify-center",children:(0,n.jsx)(c.default,{alt:"google",src:"/images/google.svg",width:23,height:1})})})]})]})})})}}},e=>{e.O(0,[259,464,799,508,441,964,358],()=>e(e.s=2112)),_N_E=e.O()}]);