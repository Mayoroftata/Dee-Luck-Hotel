(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{4381:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(5933),r=a(5155),l=a(2115),o=a(6112),u=a(9800),s=a(5799),p=a(5695);function i(){let e=(0,n._)(["\n  mutation CreateRoom($input: RoomInput!) {\n    createRoom(input: $input) {\n      id\n      name\n      type\n      price\n    }\n  }\n"]);return i=function(){return e},e}let d=(0,o.J1)(i()),c=()=>{let[e,t]=(0,l.useState)({name:"",type:"",price:"",description:"",image:""}),a=(0,p.useRouter)();useEffect(()=>{let e=localStorage.getItem("token");if(!e)return void a.push("/login");try{let t=jwt_decode(e);"admin"!==t.role&&a.push("/unauthorized")}catch(e){a.push("/login")}},[a]);let[n,{loading:o}]=(0,u.n)(d,{onCompleted:()=>{s.oR.success("Room added successfully"),t({name:"",type:"",price:"",description:"",image:""})},onError:e=>{s.oR.error(e.message)}});return(0,r.jsxs)("div",{className:"max-w-lg mx-auto p-5",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Add New Room"}),(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),n({variables:{input:{...e,price:parseFloat(e.price)}}})},className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Room Name",value:e.name,onChange:a=>t({...e,name:a.target.value}),className:"w-full p-2 border rounded"}),(0,r.jsx)("input",{type:"text",placeholder:"Type (e.g. Deluxe)",value:e.type,onChange:a=>t({...e,type:a.target.value}),className:"w-full p-2 border rounded"}),(0,r.jsx)("input",{type:"number",placeholder:"Price",value:e.price,onChange:a=>t({...e,price:a.target.value}),className:"w-full p-2 border rounded"}),(0,r.jsx)("textarea",{placeholder:"Description",value:e.description,onChange:a=>t({...e,description:a.target.value}),className:"w-full p-2 border rounded"}),(0,r.jsx)("input",{type:"text",placeholder:"Image URL",value:e.image,onChange:a=>t({...e,image:a.target.value}),className:"w-full p-2 border rounded"}),(0,r.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-900 text-white px-4 py-2 rounded",children:o?"Saving...":"Add Room"})]})]})}},8083:(e,t,a)=>{Promise.resolve().then(a.bind(a,4381))}},e=>{e.O(0,[799,206,727,441,964,358],()=>e(e.s=8083)),_N_E=e.O()}]);