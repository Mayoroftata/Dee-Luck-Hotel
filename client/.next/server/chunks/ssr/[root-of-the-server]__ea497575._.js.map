{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///home/mayoroftata/Desktop/Projects/Dee%20Luck%20Hotel/client/src/app/register/page.js"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { useFormik } from \"formik\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { basicSchema } from \"./schemas/page\";\nimport { useRouter } from \"next/navigation\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\n// import { signIn } from \"next-auth/react\";\nimport axios from \"axios\";\n\nconst Page = () => {\n  const router = useRouter();\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Success Toast\n  const showSuccessToast = (message) => {\n    toast.success(message);\n  };\n  // Error Toast\n  const showErrorToast = (message) => {\n    toast.error(message);\n  };\n\n  const onSubmit = (values, { resetForm }) => {\n    setIsLoading(true);\n    console.log(\"Form submitted\", values);\n\n    axios\n      .post(\"http://localhost:5000/api/register\", values)\n      .then((res) => {\n        console.log(res.data);\n        if (res.data.status === \"success\") {\n          // Adjust to the response format from backend\n          showSuccessToast(res.data.message);\n          localStorage.setItem(\"userInfo\", JSON.stringify(values));\n          setTimeout(() => {\n            router.push(\"/signin\");\n          }, 2000);\n        } else if (res.data.status === \"error\") {\n          // Adjust the backend response\n          showErrorToast(\"User already exists\");\n          setIsLoading(false);\n        }\n      })\n      .catch((err) => {\n        setIsLoading(false);\n        console.log(err);\n        if (err.response && err.response.data && err.response.data.message) {\n          showErrorToast(err.response.data.message);\n        } else {\n          showErrorToast(\"Something went wrong\");\n        }\n      });\n  };\n\n  const { values, errors, touched, handleChange, handleBlur, handleSubmit } =\n    useFormik({\n      initialValues: {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n      },\n      validationSchema: basicSchema,\n      onSubmit,\n    });\n  console.log(errors);\n\n  const googleSign = async () => {\n    try {\n      setIsLoading(true);\n\n      // Trigger Google sign-in\n      const result = await signIn(\"google\", { redirect: false });\n\n      if (result?.error) {\n        setIsLoading(false);\n        showErrorToast(result.error || \"Google sign-in failed\");\n        return;\n      }\n\n      // Redirect to the dashboard after successful sign-in\n      showSuccessToast(\"Google sign-in successful\");\n      setTimeout(() => {\n        window.location.href = \"/Client/ClientDashboard\";\n      }, 2000);\n    } catch (error) {\n      setIsLoading(false);\n      showErrorToast(\"Something went wrong during Google sign-in\");\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"justify-center flex items-center  min-h-screen bg-blue-900\">\n        <div className=\"bg-white  w-full max-w-lg mx-6 border border-white/20 shadow rounded\">\n          <h1 className=\"font-bold ps-4 text-center text-blue-900 my-3 text-2xl\">\n            Create Account{\" \"}\n          </h1>\n          <div className=\"px-5 pb-5 space-y-2\">\n            <ToastContainer position=\"top-right\" autoClose={3000} />\n            <form onSubmit={handleSubmit} className=\"space-y-2\">\n              <div className=\"flex space-x-3\">\n                <div className=\"w-full\">\n                  <input\n                    name=\"firstName\"\n                    onBlur={handleBlur}\n                    value={values.firstName}\n                    onChange={handleChange}\n                    className={`p-2 w-full border border-gray-300  rounded-lg focus:outline-none ${\n                      errors.firstName && touched.firstName\n                        ? \"border-red-500\"\n                        : \"focus:border-blue-900\"\n                    }`}\n                    type=\"text\"\n                    placeholder=\"First name\"\n                  />\n                  {errors.firstName && touched.firstName && (\n                    <p className=\"text-red-500 text-sm\">{errors.firstName}</p>\n                  )}\n                </div>\n                <div className=\"w-full\">\n                  <input\n                    name=\"lastName\"\n                    onBlur={handleBlur}\n                    value={values.lastName}\n                    onChange={handleChange}\n                    className={`p-2 w-full border border-gray-300 rounded-lg focus:outline-none  ${\n                      errors.lastName && touched.lastName\n                        ? \"border-red-500\"\n                        : \"focus:border-blue-900\"\n                    }`}\n                    type=\"text\"\n                    placeholder=\"Last name\"\n                  />\n                  {errors.lastName && touched.lastName && (\n                    <p className=\"text-red-500 text-sm\">{errors.lastName}</p>\n                  )}\n                </div>\n              </div>\n              <div>\n                <input\n                  name=\"phoneNumber\"\n                  onBlur={handleBlur}\n                  value={values.phoneNumber}\n                  onChange={handleChange}\n                  className={`p-2 w-full border border-gray-300 rounded-lg focus:outline-none  ${\n                    errors.username && touched.username\n                      ? \"border-red-500\"\n                      : \"focus:border-blue-900\"\n                  }`}\n                  type=\"text\"\n                  placeholder=\"Phone Number\"\n                />\n                {errors.phoneNumber && touched.phoneNumber && (\n                  <p className=\"text-red-500 text-sm\">{errors.phoneNumber}</p>\n                )}\n              </div>\n              <div>\n                <input\n                  name=\"email\"\n                  onBlur={handleBlur}\n                  value={values.email}\n                  onChange={handleChange}\n                  className={`p-2 w-full border border-gray-300 rounded-lg focus:outline-none  ${\n                    errors.email && touched.email\n                      ? \"border-red-500\"\n                      : \"focus:border-blue-900\"\n                  }`}\n                  type=\"email\"\n                  placeholder=\"Email\"\n                />\n                {errors.email && touched.email && (\n                  <p className=\"text-red-500 text-sm\">{errors.email}</p>\n                )}\n              </div>\n              <div>\n                <input\n                  name=\"password\"\n                  onBlur={handleBlur}\n                  value={values.password}\n                  onChange={handleChange}\n                  className={`p-2 w-full border border-gray-300 rounded-lg focus:outline-none  ${\n                    errors.password && touched.password\n                      ? \"border-red-500\"\n                      : \"focus:border-blue-900\"\n                  }`}\n                  type=\"password\"\n                  placeholder=\"password\"\n                />\n                {errors.password && touched.password && (\n                  <p className=\"text-red-500 text-sm\">{errors.password}</p>\n                )}\n              </div>\n              <div>\n                <input\n                  name=\"confirmPassword\"\n                  onBlur={handleBlur}\n                  value={values.confirmPassword}\n                  onChange={handleChange}\n                  className={`p-2 w-full border border-gray-300 rounded-lg focus:outline-none  ${\n                    errors.confirmPassword && touched.confirmPassword\n                      ? \"border-red-500\"\n                      : \"focus:border-blue-900\"\n                  }`}\n                  type=\"password\"\n                  placeholder=\"Confirm Password\"\n                />\n                {errors.confirmPassword && touched.confirmPassword && (\n                  <p className=\"text-red-500 text-sm\">\n                    {errors.confirmPassword}\n                  </p>\n                )}\n              </div>\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={isLoading}\n                  className={`font-bold rounded-lg text-white w-full bg-blue-900 py-2 hover:bg-blue-800 ${\n                    isLoading\n                      ? \"cursor-not-allowed opacity-50\"\n                      : \"cursor-pointer\"\n                  }`}\n                >\n                  {isLoading ? (\n                    <PulseLoader size={13} color=\"#fff\" />\n                  ) : (\n                    \"Sign Up\"\n                  )}\n                </button>\n              </div>\n            </form>\n            <div>\n              <p className=\"text-center pt-2 text-gray-500\">\n                Have an account?{\" \"}\n                <Link\n                  href=\"/signin\"\n                  className=\"text-blue-900 underline font-semibold\"\n                >\n                  Sign in\n                </Link>\n              </p>\n            </div>\n            <div className=\"flex items-center space-x-2 my-3\">\n              <hr className=\"flex-1 border-gray-300\" />\n              <p className=\"text-center text-blue-900\"> or with </p>\n              <hr className=\"flex-1 border-gray-300\" />\n            </div>\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={googleSign}\n                type=\"button\"\n                className=\"bg-blue-900 rounded-lg w-1/3 py-1 flex items-center justify-center\"\n              >\n                <Image\n                  alt=\"google\"\n                  src=\"/images/google.svg\"\n                  width={23}\n                  height={1}\n                />\n              </button>\n              <button className=\"bg-blue-900 rounded-lg w-1/3 py-1 flex items-center justify-center\">\n                <Image\n                  alt=\"google\"\n                  src=\"/images/github.svg\"\n                  width={30}\n                  height={1}\n                />\n              </button>\n              <button className=\"bg-blue-900 rounded-lg w-1/3 py-1 flex items-center justify-center\">\n                <Image\n                  alt=\"facebook\"\n                  src=\"/images/facebook.svg\"\n                  width={21}\n                  height={1}\n                />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Page;\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;;;;AAEA;AACA;AACA,4CAA4C;AAC5C;AAVA;;;;;;;;;;;AAYA,MAAM,OAAO;IACX,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,gBAAgB;IAChB,MAAM,mBAAmB,CAAC;QACxB,mJAAA,CAAA,QAAK,CAAC,OAAO,CAAC;IAChB;IACA,cAAc;IACd,MAAM,iBAAiB,CAAC;QACtB,mJAAA,CAAA,QAAK,CAAC,KAAK,CAAC;IACd;IAEA,MAAM,WAAW,CAAC,QAAQ,EAAE,SAAS,EAAE;QACrC,aAAa;QACb,QAAQ,GAAG,CAAC,kBAAkB;QAE9B,qIAAA,CAAA,UAAK,CACF,IAAI,CAAC,sCAAsC,QAC3C,IAAI,CAAC,CAAC;YACL,QAAQ,GAAG,CAAC,IAAI,IAAI;YACpB,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,WAAW;gBACjC,6CAA6C;gBAC7C,iBAAiB,IAAI,IAAI,CAAC,OAAO;gBACjC,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;gBAChD,WAAW;oBACT,OAAO,IAAI,CAAC;gBACd,GAAG;YACL,OAAO,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS;gBACtC,8BAA8B;gBAC9B,eAAe;gBACf,aAAa;YACf;QACF,GACC,KAAK,CAAC,CAAC;YACN,aAAa;YACb,QAAQ,GAAG,CAAC;YACZ,IAAI,IAAI,QAAQ,IAAI,IAAI,QAAQ,CAAC,IAAI,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE;gBAClE,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;YAC1C,OAAO;gBACL,eAAe;YACjB;QACF;IACJ;IAEA,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE,GACvE,CAAA,GAAA,+IAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,WAAW;YACX,UAAU;YACV,OAAO;YACP,UAAU;YACV,iBAAiB;QACnB;QACA,kBAAkB;QAClB;IACF;IACF,QAAQ,GAAG,CAAC;IAEZ,MAAM,aAAa;QACjB,IAAI;YACF,aAAa;YAEb,yBAAyB;YACzB,MAAM,SAAS,MAAM,OAAO,UAAU;gBAAE,UAAU;YAAM;YAExD,IAAI,QAAQ,OAAO;gBACjB,aAAa;gBACb,eAAe,OAAO,KAAK,IAAI;gBAC/B;YACF;YAEA,qDAAqD;YACrD,iBAAiB;YACjB,WAAW;gBACT,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB,GAAG;QACL,EAAE,OAAO,OAAO;YACd,aAAa;YACb,eAAe;QACjB;IACF;IAEA,qBACE,8OAAC;kBACC,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;;4BAAyD;4BACtD;;;;;;;kCAEjB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mJAAA,CAAA,iBAAc;gCAAC,UAAS;gCAAY,WAAW;;;;;;0CAChD,8OAAC;gCAAK,UAAU;gCAAc,WAAU;;kDACtC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDACC,MAAK;wDACL,QAAQ;wDACR,OAAO,OAAO,SAAS;wDACvB,UAAU;wDACV,WAAW,CAAC,iEAAiE,EAC3E,OAAO,SAAS,IAAI,QAAQ,SAAS,GACjC,mBACA,yBACJ;wDACF,MAAK;wDACL,aAAY;;;;;;oDAEb,OAAO,SAAS,IAAI,QAAQ,SAAS,kBACpC,8OAAC;wDAAE,WAAU;kEAAwB,OAAO,SAAS;;;;;;;;;;;;0DAGzD,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDACC,MAAK;wDACL,QAAQ;wDACR,OAAO,OAAO,QAAQ;wDACtB,UAAU;wDACV,WAAW,CAAC,iEAAiE,EAC3E,OAAO,QAAQ,IAAI,QAAQ,QAAQ,GAC/B,mBACA,yBACJ;wDACF,MAAK;wDACL,aAAY;;;;;;oDAEb,OAAO,QAAQ,IAAI,QAAQ,QAAQ,kBAClC,8OAAC;wDAAE,WAAU;kEAAwB,OAAO,QAAQ;;;;;;;;;;;;;;;;;;kDAI1D,8OAAC;;0DACC,8OAAC;gDACC,MAAK;gDACL,QAAQ;gDACR,OAAO,OAAO,WAAW;gDACzB,UAAU;gDACV,WAAW,CAAC,iEAAiE,EAC3E,OAAO,QAAQ,IAAI,QAAQ,QAAQ,GAC/B,mBACA,yBACJ;gDACF,MAAK;gDACL,aAAY;;;;;;4CAEb,OAAO,WAAW,IAAI,QAAQ,WAAW,kBACxC,8OAAC;gDAAE,WAAU;0DAAwB,OAAO,WAAW;;;;;;;;;;;;kDAG3D,8OAAC;;0DACC,8OAAC;gDACC,MAAK;gDACL,QAAQ;gDACR,OAAO,OAAO,KAAK;gDACnB,UAAU;gDACV,WAAW,CAAC,iEAAiE,EAC3E,OAAO,KAAK,IAAI,QAAQ,KAAK,GACzB,mBACA,yBACJ;gDACF,MAAK;gDACL,aAAY;;;;;;4CAEb,OAAO,KAAK,IAAI,QAAQ,KAAK,kBAC5B,8OAAC;gDAAE,WAAU;0DAAwB,OAAO,KAAK;;;;;;;;;;;;kDAGrD,8OAAC;;0DACC,8OAAC;gDACC,MAAK;gDACL,QAAQ;gDACR,OAAO,OAAO,QAAQ;gDACtB,UAAU;gDACV,WAAW,CAAC,iEAAiE,EAC3E,OAAO,QAAQ,IAAI,QAAQ,QAAQ,GAC/B,mBACA,yBACJ;gDACF,MAAK;gDACL,aAAY;;;;;;4CAEb,OAAO,QAAQ,IAAI,QAAQ,QAAQ,kBAClC,8OAAC;gDAAE,WAAU;0DAAwB,OAAO,QAAQ;;;;;;;;;;;;kDAGxD,8OAAC;;0DACC,8OAAC;gDACC,MAAK;gDACL,QAAQ;gDACR,OAAO,OAAO,eAAe;gDAC7B,UAAU;gDACV,WAAW,CAAC,iEAAiE,EAC3E,OAAO,eAAe,IAAI,QAAQ,eAAe,GAC7C,mBACA,yBACJ;gDACF,MAAK;gDACL,aAAY;;;;;;4CAEb,OAAO,eAAe,IAAI,QAAQ,eAAe,kBAChD,8OAAC;gDAAE,WAAU;0DACV,OAAO,eAAe;;;;;;;;;;;;kDAI7B,8OAAC;kDACC,cAAA,8OAAC;4CACC,MAAK;4CACL,UAAU;4CACV,WAAW,CAAC,0EAA0E,EACpF,YACI,kCACA,kBACJ;sDAED,0BACC,8OAAC,gJAAA,CAAA,UAAW;gDAAC,MAAM;gDAAI,OAAM;;;;;2FAE7B;;;;;;;;;;;;;;;;;0CAKR,8OAAC;0CACC,cAAA,8OAAC;oCAAE,WAAU;;wCAAiC;wCAC3B;sDACjB,8OAAC,4JAAA,CAAA,UAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;0CAKL,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;;;;;;kDACd,8OAAC;wCAAE,WAAU;kDAA4B;;;;;;kDACzC,8OAAC;wCAAG,WAAU;;;;;;;;;;;;0CAEhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS;wCACT,MAAK;wCACL,WAAU;kDAEV,cAAA,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAI;4CACJ,KAAI;4CACJ,OAAO;4CACP,QAAQ;;;;;;;;;;;kDAGZ,8OAAC;wCAAO,WAAU;kDAChB,cAAA,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAI;4CACJ,KAAI;4CACJ,OAAO;4CACP,QAAQ;;;;;;;;;;;kDAGZ,8OAAC;wCAAO,WAAU;kDAChB,cAAA,8OAAC,6HAAA,CAAA,UAAK;4CACJ,KAAI;4CACJ,KAAI;4CACJ,OAAO;4CACP,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1B;uCAEe","debugId":null}}]
}