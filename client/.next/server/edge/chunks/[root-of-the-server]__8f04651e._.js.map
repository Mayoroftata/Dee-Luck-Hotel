{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import stream)"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`stream`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/ (unsupported edge import crypto)"],"sourcesContent":["__turbopack_context__.n(__import_unsupported(`crypto`));\n"],"names":[],"mappings":"AAAA,sBAAsB,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.js"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport jwt from 'jsonwebtoken';\n\nconst PUBLIC_FILE = /\\.(.*)$/;\n\nexport function middleware(req) {\n  const url = req.nextUrl.clone();\n\n  // Don't block static files\n  if (PUBLIC_FILE.test(url.pathname)) return;\n\n  // Only apply to /admin routes\n  if (url.pathname.startsWith('/admin')) {\n    const token = req.cookies.get('token')?.value;\n\n    if (!token) {\n      url.pathname = '/login';\n      return NextResponse.redirect(url);\n    }\n\n    try {\n      const decoded = jwt.verify(token, process.env.JWT_SECRET);\n      if (decoded.role !== 'admin') {\n        url.pathname = '/unauthorized'; // you can create this page\n        return NextResponse.redirect(url);\n      }\n    } catch (err) {\n      url.pathname = '/login';\n      return NextResponse.redirect(url);\n    }\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: ['/admin/:path*'],\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEA,MAAM,cAAc;AAEb,SAAS,WAAW,GAAG;IAC5B,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;IAE7B,2BAA2B;IAC3B,IAAI,YAAY,IAAI,CAAC,IAAI,QAAQ,GAAG;IAEpC,8BAA8B;IAC9B,IAAI,IAAI,QAAQ,CAAC,UAAU,CAAC,WAAW;QACrC,MAAM,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU;QAExC,IAAI,CAAC,OAAO;YACV,IAAI,QAAQ,GAAG;YACf,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;QAC/B;QAEA,IAAI;YACF,MAAM,UAAU,6IAAA,CAAA,UAAG,CAAC,MAAM,CAAC,OAAO,QAAQ,GAAG,CAAC,UAAU;YACxD,IAAI,QAAQ,IAAI,KAAK,SAAS;gBAC5B,IAAI,QAAQ,GAAG,iBAAiB,2BAA2B;gBAC3D,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;YAC/B;QACF,EAAE,OAAO,KAAK;YACZ,IAAI,QAAQ,GAAG;YACf,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;QAC/B;IACF;IAEA,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAgB;AAC5B"}}]
}